<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: ychat_content.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: ychat_content.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>/**
 * Provides a set of static methods for working with textual content.
 *
 * @namespace YChat.Content
 */
YChat.Content = {};

/**
 * The default emoticon theme name for YChat.
 *
 * @constant
 */
YChat.Content.EmotTheme = 'yemoticon';

/**
 * Emoticon signs to CSS classes map.
 *
 * @constant
 */
YChat.Content.Emoticons = [
  { pattern: /:\)/, cssClass: 'happy' },
  { pattern: ':D', cssClass: 'very_happy' },
  { pattern: ':(', cssClass: 'sad' },
  { pattern: ':|', cssClass: 'wary' },
  { pattern: /:O/gi, cssClass: 'astonished' },
  { pattern: /:P/gi, cssClass: 'tongue' },
  { pattern: /\(hug\)/gi, cssClass: 'hug' },
  { pattern: /\(bear\)/gi, cssClass: 'hug' },
  { pattern: /\(bg\)/gi, cssClass: 'bulgaria' },
  { pattern: /\(inlove\)/gi, cssClass: 'inlove' },
  { pattern: /:\*/, cssClass: 'kiss' },
  { pattern: /\(h\)/gi, cssClass: 'heart' },
  { pattern: /\(heart\)/gi, cssClass: 'heart' },
  { pattern: /;\)/, cssClass: 'wink' },
  { pattern: /:S/gi, cssClass: 'worried' },
  { pattern: /\(panda\)/gi, cssClass: 'panda' },
  { pattern: /\(devil\)/gi, cssClass: 'devil' },
  { pattern: /\(yes\)/gi, cssClass: 'yes' },
  { pattern: /\(y\)/gi, cssClass: 'yes' },
  { pattern: /\(no\)/gi, cssClass: 'no' },
  { pattern: /\(n\)/gi, cssClass: 'no' }
];

/**
 * Replaces all URLs in html content with html links to these URLs
 *
 * @function linkify
 * @memberof YChat.Content
 * @static
 * @param {string} content
 *    The content to linkify.
 */
YChat.Content.linkify = function (content) {
  var result,
      protocolPattern = 
        /(\b(https?|ftp|file):\/\/\/?[\-A-Z0-9+&@#\/%?=~_|!:,.;]*[\-A-Z0-9+&@#\/%=~_|])/gim,
      wwwPattern = /(^|[^\/])(www\.[\S]+(\b|$))/gim,
      emailPattern = /(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim;

  result = content.replace(protocolPattern, '&lt;a href="$1" target="_blank">$1&lt;/a>');
  result = result.replace(wwwPattern, '$1&lt;a href="http://$2" target="_blank">$2&lt;/a>');
  result = result.replace(emailPattern, '&lt;a href="mailto:$1">$1&lt;/a>');

  return result;
};

/**
 * Processes html content and replaces all ocurrences
 * of given emoticons patterns defined in {@link YChat.Content.Emoticons} to
 * html tags with the right css classes.
 *
 * @param {string} content
 *    The html to process and emotify.
 * @param {string} theme
 *    The theme of the emoticons to put - CSS class name.
 *    Can be null for the default - {@link YChat.Content.EmotTheme}.
 */
YChat.Content.emotify = function (content, theme) {
  var i, emoticon, replacement,
      eTheme = (theme ? theme : YChat.Content.EmotTheme);

  for (i = 0; i &lt; YChat.Content.Emoticons.length; i++) {
    emoticon = YChat.Content.Emoticons[i];
    replacement = '&lt;span class="' + eTheme + ' ' + emoticon.cssClass + '">&lt;/span>';
    content = content.replace(emoticon.pattern, replacement);
  }

  return content;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="YChat.ApplicationView.html">ApplicationView</a></li><li><a href="YChat.ChatContainer.html">ChatContainer</a></li><li><a href="YChat.ChatController.html">ChatController</a></li><li><a href="YChat.Container.html">Container</a></li></ul><h3>Namespaces</h3><ul><li><a href="YChat.html">YChat</a></li><li><a href="YChat.Content.html">Content</a></li><li><a href="YChat.Cookies.html">Cookies</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a> on Sun Mar 16 2014 14:41:54 GMT+0200 (EET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
